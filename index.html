<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>02805 Project B by s103619</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">02805 Project B</h1>
      <h2 class="project-tagline">Game of Thrones</h2>
      <a href="https://nbviewer.jupyter.org/github/s103619/02805_project_b/blob/master/Explainer_Notebook.ipynb" class="btn">View Explainer Notebook</a>
      <a href="https://github.com/s103619/02805_project_b/zipball/master" class="btn">Download project (.zip)</a>
      <a href="https://github.com/s103619/02805_project_b/tarball/master" class="btn">Download project (.tar.gz)</a>
	  <a href="https://github.com/s103619/02805_project_b/blob/master/got/characters.p" class="btn">Download dataset for network analysis (.p)</a>
	  
    </section>

    <section class="main-content">
	<div>	
		<p>We have chosen to collect data from the Game of Thrones universe.</p> 
		<h2>Description of gathered data:</h2>
		<ul>
			<li>
				Information about all characters from Game of Thrones:
				<ul>
					<li>Wikia page</li>
					<li>House information</li>
				</ul>
			</li>
			<li>A transcript for each episode (for all six seasons)</li>
			<li>A review for each episode (for all six seasons)</li>
		</ul>
		<h2>Basic stats about the data:</h2>
		<ul>
			<li>1062 characters</li>
			<li>20.697 internal links between characters in total</li>
			<li>11 houses</li>
			<li>60 transcripts
				<ul>
					<li>Average character length of 30.205 or about 5.311 words.</li>
				</ul>
			</li>
			<li>56 reviews 
				<ul>
					<li>Average character length of 9.669 characters or about 1.671 words.</li>
				</ul>
			</li>
		</ul>
	</div>
	<div id="network_analysis">
		<h2>Network analysis</h2>
		We have created a network with a node for each character and a link between two characters if there is a link between between them. 
		<div id="network" style="margin:auto; width:55%">
			<figure>
			<p><img src="https://raw.githubusercontent.com/s103619/02805_project_b/master/pictures/largest_component_got_network.png"></p>
			<figcaption style="margin:auto; width:65%">Fig. 1 - A visualization of the character network.</figcaption>
			</figure>
		</div>
		<div id="tables">
			<br>
			<p>The following table show the ten characters with highest degree. In-degree is defined as the number of times other characters refer to a particular character, whereas out-degree is the opposite. Total degree is 
			in-degree + out-degree.</p>
			<br>
			<table style="margin:auto; width:58%">
				<tr>
					<th>Character - In degree</th>
					<th> Character - Out degree</th>
					<th>Character - Total degree</th>
				</tr>
				<tr>
					<td>Tyrion Lannister, 187</td>
					<td>Tyrion Lannister, 63</td>
					<td>Tyrion Lannister, 250</td>
				</tr>
				<tr>
					<td>Jon Snow, 170</td>
					<td>Jon Snow, 57</td>
					<td>Jon Snow, 227</td>
				</tr>
				<tr>
					<td>Daenerys Targaryen, 146</td>
					<td>Eddard Stark, 56</td>
					<td>Eddard Stark, 195</td>
				</tr>
				<tr>
					<td>Robb Stark, 146</td>
					<td>Varys, 54</td>
					<td>Daenerys Targaryen, 192</td>
				</tr>
				<tr>
					<td>Eddard Stark, 139</td>
					<td>Catelyn Stark, 53</td>
					<td>Jaime Lannister, 183</td>
				</tr>
				<tr>
					<td>Jaime Lannister, 138</td>
					<td>Petyr Baelish, 50</td>
					<td>Robb Stark, 180</td>
				</tr>
				<tr>
					<td>Sansa Stark, 128</td>
					<td>Theon Greyjoy, 50</td>
					<td>Sansa Stark, 174</td>
				</tr>
				<tr>
					<td>Stannis Baratheon, 125</td>
					<td>Cersei Lannister, 48</td>
					<td>Cersei Lannister, 166</td>
				</tr>
				<tr>
					<td>Joffrey Baratheon, 122</td>
					<td>Robert Baratheon, 46</td>
					<td>Stannis Baratheon, 165</td>
				</tr>
				<tr>
					<td>Tywin Lannister, 121</td>
					<td>Daenerys Targaryen, 46</td>
					<td>Robert Baratheon, 164</td>
				</tr>
			</table>
			<br>
			<p>Not surprisingly the table above shows that it is the most well-known characters that are referenced most.</p>
			<br>
		</div>
		<div id="log_dist_pictures" style="clear:both">
			<h3>Degree distribution</h3>
			<p>The degree distribution can be used to tell something about what type of network we are dealing with. The graphs below shows the distribution of in-degrees and the distribution of out-degrees, respectively,
			plotted on a double logarithmic scale. Both distributions are similar to a Poisson distribution. If the distributions were following a power-law, it would mean that we have a big group of characters with
			a very low degree (~0-10), and a tiny group of characters with a very high degree (>100). In this case, the distribution is more even.
			</p>
			<figure>
			<p><img src="https://raw.githubusercontent.com/s103619/02805_project_b/master/pictures/dist_in_deg_log.png" style="float:left; width:50%;"></p>
			<p><img src="https://raw.githubusercontent.com/s103619/02805_project_b/master/pictures/dist_out_deg_log.png" style="float:right; width:50%;"></p>
			<figcaption style="margin:auto; width:59%">Fig. 2 - Visualizations of the degree distribution, plotted on double logarithmic scale.</figcaption>
			</figure>
		</div>
		<br>
		<div id="modularity">
			<h3>Community modularity</h3>
			<p>This section describes the community of GoT. To examine whether the defined houses are good communities or not, we have calculated the modularity value of each of them.
			The equation below, was used calculate a modularity value for each house.</p>
			<p style="margin:auto; width:16%"><img src="https://raw.githubusercontent.com/s103619/02805_project_b/master/pictures/equation_9_12.PNG"></p>
			<p>
			n<sub>c</sub>: Number of communities  <br>
			L<sub>c</sub>: The total number of links within the community C<sub>c</sub><br>
			k<sub>c</sub>: The total degree of the nodes in the community C<sub>c</sub> (total degree = in-degree + out-degree)<br>
			</p>
			<p>The table below, shows the modularity value for each house. A positive modularity value means that there are more links in the community than expected (in a random network).
			A modularity value of zero, means that the community has the expected number of links, and a negative value means that it has a lower number of links than expected.
			<br>
			This means that the houses that are defined in GoT seems like good communities, since they all have a positive value.</p>
			<br>
			<table style="margin:auto; width:34%">
				<tr>
					<th>House</th>
					<th>L_c</th>
					<th>k_c</th>
					<th>M_c</th>
				</tr>
				<tr>
					<td>House Hightower</td>
					<td>1</td>
					<td>73</td>
					<td>0.00013</td>
				</tr>
				<tr>
					<td>House Lannister</td>
					<td>67</td>
					<td>1055</td>
					<td>0.00358</td>
				</tr>
				<tr>
					<td>Night's Watch</td>
					<td>48</td>
					<td>478</td>
					<td>0.00624</td>
				</tr>
				<tr>
					<td>House Martell</td>
					<td>48</td>
					<td>307</td>
					<td>0.00710</td>
				</tr>
				<tr>
					<td>House Greyjoy</td>
					<td>38</td>
					<td>295</td>
					<td>0.00554</td>
				</tr>
				<tr>
					<td>House Frey</td>
					<td>19</td>
					<td>166</td>
					<td>0.00287</td>
				</tr>
				<tr>
					<td>Faith of the Seven</td>
					<td>10</td>
					<td>87</td>
					<td>0.00156</td>
				</tr>
				<tr>
					<td>House Stark</td>
					<td>124</td>
					<td>1529</td>
					<td>0.00484</td>
				</tr>
				<tr>
					<td>House Baratheon</td>
					<td>4</td>
					<td>164</td>
					<td>0.00047</td>
				</tr>
				<tr>
					<td>House Tully</td>
					<td>18</td>
					<td>365</td>
					<td>0.00203</td>
				</tr>
				<tr>
					<td>House Tyrell</td>
					<td>14</td>
					<td>235</td>
					<td>0.00189</td>
				</tr>
				<tr>
					<td>House Targaryen</td>
					<td>256</td>
					<td>1364</td>
					<td>0.02912</td>
				</tr>
				<tr>
					<td>House Arryn</td>
					<td>5</td>
					<td>107</td>
					<td>0.00073</td>
				</tr>
			</table>
		</div>
		<div id="confusion matrix">
			<h3>Community comparison</h3>
			<p>We have used the Louvain algorithm, to examine whether there exists better communities than the houses. The result of this is a confusion matrix <i>D</i>, which tells whether the Louvain algorithm
			agrees with the predefined houses or not.
			<figure>
				<p><img src="https://raw.githubusercontent.com/s103619/02805_project_b/master/pictures/d_dist_diag.png" style="float:left; width:50%;height:430px"></p>
				<p><img src="https://raw.githubusercontent.com/s103619/02805_project_b/master/pictures/d_dist_non_diag.png" style="float:right; width:50%;height:430px"></p>
				<figcaption>Fig. 3 - Distribution of the elements in the confusion matrix. The left is a distribution of diagonal elements, and the right is a distribution of the non-diagonal elements.</figcaption>
			</figure>
			<p> The two graphs shows the distribution between the diagional and non-diagonal elements of the confusion matrix. If the distribution of the diagonal elements is skewed to the right and the distribution of the 
			non-diagonal elements are skewed to the left, this indicates that the communities are well-defined since they do not have many links between them. 
			<br><br>
			In this case, the non-diagonal distribution is skewed to the left, but there are also some high values of non-diagonal elements that indicates that there exists some communities with a high number of links 
			between them. the distribution of diagonal elements are not skewed to the right completely. This means that we cannot conclude that the predefined communities are well-defined, as this suggests that other 
			communities exists in the GoT universe. This is not completely surprising since some characters change house during the series, and this is not something that we have accounted for in our data extraction.
			</p>
		</div>
		
	</div>
	
	
	
	<div id="text_analysis" style="clear:both">
		<h2>Text analysis</h2>
		
<div class="w3-content w3-display-container">
  <img class="mySlides" src="https://raw.githubusercontent.com/s103619/02805_project_b/master/pictures/wc_s1.png" style="width:100%">
  <img class="mySlides" src="https://raw.githubusercontent.com/s103619/02805_project_b/master/pictures/wc_s2.png" style="width:100%">
  <img class="mySlides" src="https://raw.githubusercontent.com/s103619/02805_project_b/master/pictures/wc_s3.png" style="width:100%">
  <img class="mySlides" src="https://raw.githubusercontent.com/s103619/02805_project_b/master/pictures/wc_s4.png" style="width:100%">
  <img class="mySlides" src="https://raw.githubusercontent.com/s103619/02805_project_b/master/pictures/wc_s5.png" style="width:100%">
  <img class="mySlides" src="https://raw.githubusercontent.com/s103619/02805_project_b/master/pictures/wc_s6.png" style="width:100%">

  <a class="w3-btn-floating w3-display-left" onclick="plusDivs(-1)">&#10094;</a>
  <a class="w3-btn-floating w3-display-right" onclick="plusDivs(1)">&#10095;</a>
</div>

<p class="w3-center" style="font-size:10pt; margin:auto; text-align:justify!important; width:70%">Manual Slideshow</p>

<script>
var slideIndex = 1;
showDivs(slideIndex);

function plusDivs(n) {
  showDivs(slideIndex += n);
}

function showDivs(n) {
  var i;
  var x = document.getElementsByClassName("mySlides");
  var y = document.getElementsByClassName("w3-center");
  var splat = ['We can see that Eddard (Ned) Stark is one of the more prominent names in the cloud. Tyrion is larger, but Eddard\'s name is there at least twice (Eddard and Ned), meaning it would be larger than it shows. Stark is easily the most prominent term, indicating that the Stark family takes up the majority of the screen time, with the Lannisters in second place.', 
  'We see a stark (hah) decline in the prominence of the Stark house, meaning that either the scripts stop referring to them by their house name, or that other families and characters are put more in focus. We see that the head of the Stark family, Eddard \'Ned\' Stark, is completely absent, which makes sense considering he\'s dead. King is the most prominent here, indicating that there is a large focus on the king of Winterfell.', 
  'The house and character names are starting to decrease significantly, with none of them being particularly prominent during this season. Focus seems to be on the leader of Winterfell instead.', 
  'The house names are even smaller this time, but we see Jon start to take up more space compared to any other character.', 
  'Cersei is starting to become a much more prominent character, when Jon doesn\'t hog the screen time. Everyone\'s favourite characer, Tyrion, seemingly hasn\'t decreased in popularity given that his screen time', 
  'It looks like Jon Snow either has an awful lot of screen time or the characters can\'t stop talking about him this season. Tyrion remains as prominent as ever. Ramsay is given more attention here than previously, which makes sense considering this was the season where Jon Snow\'s army fought against Ramsay\'s army.'];
  if (n > x.length) {slideIndex = 1}    
  if (n < 1) {slideIndex = x.length}
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";  
  }
  x[slideIndex-1].style.display = "block";  
  y[0].innerText = splat[slideIndex-1];
}
</script>
<!-- insert image like this:
<p><img src="https://raw.githubusercontent.com/s103619/02805_project_b/master/pictures/review_sentiment.png" alt="Sentiment analysis"></p>
-->



	<div id="sources">
	<h4>Sources:</h4>
	<ul>
		<li>
			<a href="https://api.got.show/api/">https://api.got.show/api/</a>
		</li>
		<li>
			<a href="http://gameofthrones.wikia.com/wiki/">http://gameofthrones.wikia.com/wiki/</a>
		</li>
		<li>
			<a href="http://www.avclub.com/tv/game-of-thrones-newbies/">http://www.avclub.com/tv/game-of-thrones-newbies/</a>		
		</li>
		<li>
			<a href="http://transcripts.foreverdreaming.org/viewtopic.php?t=7739">http://transcripts.foreverdreaming.org/viewtopic.php?t=7739</a>
		</li>
		<li>
			<a href="http://genius.com/albums/Game-of-thrones/Season-1-scripts">http://genius.com/albums/Game-of-thrones/Season-1-scripts</a>
		</li>
		<li>
			<a href="http://genius.com/albums/Game-of-thrones/Season-4-scripts">http://genius.com/albums/Game-of-thrones/Season-4-scripts</a>
		</li>
		<li>
			<a href="http://genius.com/albums/Game-of-thrones/Season-5-scripts">http://genius.com/albums/Game-of-thrones/Season-5-scripts</a>
		</li>
		<li>
			<a href="http://genius.com/albums/Game-of-thrones/Season-6-scripts">http://genius.com/albums/Game-of-thrones/Season-6-scripts</a>
		</li>
	</ul>
	</div>
      <footer class="site-footer">
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
